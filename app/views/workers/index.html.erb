<p id="notice"><%= notice %></p>

<h1>Workers</h1>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Benchmark Version</th>
      <th>Engine Version</th>
      <th>Last used</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @workers.each do |worker| %>
      <tr class="<%= worker.state %>">
        <td>
          <%= worker.id %>
          -
          <%= worker.name %>
          <%- if worker.blocked %>
            <span class="badge badge-danger">BLOCKED</span>
          <% end %>
        </td>
        <td><%= worker.worker_version %></td>
        <td><%= worker.engine_version %></td>
        <td><%= time_ago_in_words worker.updated_at %> ago</td>
        <td>
          <%= link_to 'Edit', edit_worker_path(worker), class: 'btn btn-warning' %>
          <% unless worker.active? %>
            <%= link_to 'Destroy', worker, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
